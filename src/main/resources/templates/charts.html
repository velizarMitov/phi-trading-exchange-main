<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:replace="~{layout/main :: layout(~{::section})}">
    <section class="charts-page">
        <h1 class="page-title">Market Charts</h1>

        <div class="chart-grid">
            <!-- Render one compact chart card per instrument -->
            <article class="chart-card" th:each="instrument : ${symbols}">
                <header class="chart-card-header">
                    <div class="chart-card-title-row">
                        <span class="chart-symbol" th:text="${instrument.symbol}">AAPL</span>
                        <span class="chart-name" th:text="${instrument.name}">Apple Inc.</span>
                    </div>
                    <div class="chart-card-price-row">
                        <span class="chart-last-price"
                              th:text="${#numbers.formatDecimal(instrument.lastPrice, 1, 2)}">123.45</span>
                        <span class="chart-change">+0.00%</span>
                    </div>
                </header>

                <div class="chart-card-body">
                    <canvas class="market-chart-canvas"
                            th:attr="data-symbol=${instrument.symbol}"></canvas>
                </div>
            </article>
        </div>

        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script th:src="@{/js/charts.js}"></script>
    </section>
</div>
</body>
</html>
